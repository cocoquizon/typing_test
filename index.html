<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Test</title>
    <link href="https://api.fontshare.com/v2/css?f[]=cabinet-grotesk@800,500,100,200,400,700,300,600,900&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'Monument Grotesk Mono';
            src: url('https://assets.cargo.site/fonts/MonumentGroteskMono-Variable.woff2') format('woff2');
            font-weight: 100 900;
            font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Monument Grotesk Mono', 'Courier New', monospace;
            background: #ffffff;
            color: #000000;
            padding: 2rem;
            line-height: 1.5;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            text-align: center;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #999999;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            font-weight: 400;
            display: block;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 400;
            color: #000000;
            display: block;
        }

        .typing-area {
            margin-bottom: 2rem;
        }

        .text-display {
            font-size: 1.125rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            user-select: none;
            -webkit-user-select: none;
            min-height: 150px;
            font-weight: 400;
            color: #000000;
        }

        .char {
            transition: all 0.1s ease;
            color: #000000;
        }

        .char.correct {
            color: #999999;
        }

        .char.incorrect {
            color: #ff0000;
        }

        .char.current {
            text-decoration: underline;
            text-decoration-thickness: 1px;
            text-underline-offset: 3px;
        }

        .input-field {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid #000000;
            padding: 0.5rem 0;
            font-family: inherit;
            font-size: 1rem;
            color: #000000;
            font-weight: 400;
        }

        .input-field:focus {
            outline: none;
        }

        .input-field::placeholder {
            color: #cccccc;
        }

        .input-field:disabled {
            opacity: 0.3;
        }

        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            background: transparent;
            border: none;
            padding: 0.5rem 1.5rem;
            font-family: inherit;
            font-size: 0.75rem;
            font-weight: 400;
            color: #000000;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .btn:hover {
            color: #0000ff;
            text-decoration: underline;
        }

        .btn-secondary {
            color: #999999;
        }

        .btn-secondary:hover {
            color: #0000ff;
            text-decoration: underline;
        }

        .result-screen {
            display: none;
        }

        .result-screen.active {
            display: block;
        }

        .result-title {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 3rem;
            color: #000000;
            text-align: center;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin: 3rem 0;
        }

        .result-stat {
            text-align: center;
        }

        .result-stat-label {
            font-size: 0.75rem;
            color: #999999;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 400;
            display: block;
        }

        .result-stat-value {
            font-size: 2rem;
            font-weight: 400;
            color: #000000;
            display: block;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .stats-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .text-display {
                font-size: 1rem;
            }

            .result-stats {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="gameScreen">
            <div class="stats-container">
                <div class="stat-card">
                    <span class="stat-label">Timer</span>
                    <span class="stat-value" id="timer">60</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">WPM</span>
                    <span class="stat-value" id="wpm">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Accuracy</span>
                    <span class="stat-value" id="accuracy">100%</span>
                </div>
            </div>

            <div class="typing-area">
                <div class="text-display" id="textDisplay"></div>
                <input 
                    type="text" 
                    class="input-field" 
                    id="inputField" 
                    placeholder="Start typing..."
                    autocomplete="off"
                    spellcheck="false"
                />
            </div>

            <div class="controls">
                <button class="btn" id="resetBtn">Reset</button>
                <button class="btn btn-secondary" id="newTextBtn">New Text</button>
            </div>
        </div>

        <div class="result-screen" id="resultScreen">
            <h2 class="result-title">Test Complete</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <span class="result-stat-label">Words Per Minute</span>
                    <span class="result-stat-value" id="finalWpm">0</span>
                </div>
                <div class="result-stat">
                    <span class="result-stat-label">Accuracy</span>
                    <span class="result-stat-value" id="finalAccuracy">0%</span>
                </div>
                <div class="result-stat">
                    <span class="result-stat-label">Characters</span>
                    <span class="result-stat-value" id="finalChars">0</span>
                </div>
            </div>
            <div class="controls">
                <button class="btn" id="tryAgainBtn">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        (function() {
            'use strict';
            
            var texts = [
                "Sudden intuitive insights become your language of choice in 2026, especially when Uranus enters Gemini in April. You may dive into the ancient classic arts, like poi, rainbow loom bracelets, multilevel marketing, capoeira, or other relational practices that allow you to illuminate the very architecture of reality. You are gaining a greater trust and understanding of the divine plan. Jesus IS your homeboy.",
                "The best thing about Bugs and Frogs is that they're not in it for the money. They just want to be loved, and love them we did. We loved them so much that we adorn ourselves with them on only the finest fabrics we offer. ",
                "Dresses for all stages of married life: dating, engagement, the ceremony, and for half of you, the eventual divorce. Six new designs available now.",
                "Is your body a temple? Dress it in our curated list of Worst Bugs, eco-printed on our Swim/Active fabric, now in a yoga crossback top and shorts! Shop as separates or wear as co-ords for a fully biodiverse look.",
                "We are looking to offer the tradwife a better option for dresses than what is currently available on the market. Our option is made of 100% linen that can double duty as both tablecloth and napkin for 1-10 kids, a low neckline to show off a motherly cleavage, and front pockets for collecting rocks after spending all that time outside.",
                "The Andy Serkis method is a trademarked Fashion Brand Company innovation. We pioneered this method of Fashion Photography to give you high-quality fashion images without compromise. Follow us for more insider tips and tricks.",
                "Wool is naturally odor-resistant and can be worn multiple times before needing to be washed, so feel free to leave your wool blend pieces in a pile to rewear until you are ready to wash them.",
                "Here is a mini collection of four more lazy pants for put-together, thoughtless dressing. How many times you wear it between washes is our little secret."
            ];

            var currentText = '';
            var correctChars = 0;
            var incorrectChars = 0;
            var isTestActive = false;
            var timeLeft = 60;
            var timerInterval = null;
            var startTime = null;

            var textDisplay = document.getElementById('textDisplay');
            var inputField = document.getElementById('inputField');
            var timerElement = document.getElementById('timer');
            var wpmElement = document.getElementById('wpm');
            var accuracyElement = document.getElementById('accuracy');
            var resetBtn = document.getElementById('resetBtn');
            var newTextBtn = document.getElementById('newTextBtn');
            var gameScreen = document.getElementById('gameScreen');
            var resultScreen = document.getElementById('resultScreen');
            var tryAgainBtn = document.getElementById('tryAgainBtn');

            function getRandomText() {
                return texts[Math.floor(Math.random() * texts.length)];
            }

            function initTest() {
                currentText = getRandomText();
                correctChars = 0;
                incorrectChars = 0;
                isTestActive = false;
                timeLeft = 60;
                startTime = null;
                
                var html = '';
                for (var i = 0; i < currentText.length; i++) {
                    var className = i === 0 ? 'char current' : 'char';
                    html += '<span class="' + className + '">' + currentText[i] + '</span>';
                }
                textDisplay.innerHTML = html;
                
                inputField.value = '';
                inputField.disabled = false;
                timerElement.textContent = timeLeft;
                wpmElement.textContent = '0';
                accuracyElement.textContent = '100%';
                
                if (timerInterval) {
                    clearInterval(timerInterval);
                }

                gameScreen.classList.remove('hidden');
                resultScreen.classList.remove('active');
                
                setTimeout(function() {
                    inputField.focus();
                }, 100);
            }

            function startTimer() {
                if (!isTestActive) {
                    isTestActive = true;
                    startTime = Date.now();
                    timerInterval = setInterval(function() {
                        timeLeft--;
                        timerElement.textContent = timeLeft;
                        
                        if (timeLeft <= 0) {
                            endTest();
                        }
                    }, 1000);
                }
            }

            function calculateWPM() {
                if (!startTime) return 0;
                var timeElapsed = (Date.now() - startTime) / 1000 / 60;
                var wordsTyped = correctChars / 5;
                return Math.round(wordsTyped / timeElapsed);
            }

            function calculateAccuracy() {
                var total = correctChars + incorrectChars;
                if (total === 0) return 100;
                return Math.round((correctChars / total) * 100);
            }

            function updateStats() {
                wpmElement.textContent = calculateWPM();
                accuracyElement.textContent = calculateAccuracy() + '%';
            }

            function endTest() {
                isTestActive = false;
                clearInterval(timerInterval);
                inputField.disabled = true;
                
                document.getElementById('finalWpm').textContent = calculateWPM();
                document.getElementById('finalAccuracy').textContent = calculateAccuracy() + '%';
                document.getElementById('finalChars').textContent = correctChars + incorrectChars;
                
                gameScreen.classList.add('hidden');
                resultScreen.classList.add('active');
            }

            inputField.addEventListener('input', function(e) {
                if (!isTestActive && e.target.value.length > 0) {
                    startTimer();
                }

                var typedText = e.target.value;
                var chars = textDisplay.querySelectorAll('.char');
                
                for (var i = 0; i < chars.length; i++) {
                    chars[i].className = 'char';
                }

                correctChars = 0;
                incorrectChars = 0;
                
                for (var i = 0; i < typedText.length && i < currentText.length; i++) {
                    if (typedText[i] === currentText[i]) {
                        chars[i].classList.add('correct');
                        correctChars++;
                    } else {
                        chars[i].classList.add('incorrect');
                        incorrectChars++;
                    }
                }

                if (typedText.length < currentText.length) {
                    chars[typedText.length].classList.add('current');
                }

                if (typedText === currentText) {
                    endTest();
                }

                updateStats();
            });

            resetBtn.addEventListener('click', function() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
                initTest();
            });

            newTextBtn.addEventListener('click', function() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
                initTest();
            });

            tryAgainBtn.addEventListener('click', function() {
                initTest();
            });

            initTest();
        })();
    </script>
</body>
</html>
